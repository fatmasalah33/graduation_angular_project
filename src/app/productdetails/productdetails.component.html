<div class="container mt-5">
	<div class="row">
	<main class="col-md-9">
        <div class="container mb-1">
            <div class="card">
                <div class="row g-0">
                    <div class="col-md-5 border-end">
                        <div class="d-flex flex-column justify-content-center">
                            <div class="main_image"> <img [src]="pathimage+product.image" id="main_product_image" width="350">
                            </div>
                            <div class="thumbnail_images">
                                <!-- <ul id="thumbnail" class="ps-0">
                                    <li><img onclick="changeImage(this)" src="../../assets/images/1.jpg" width="50"></li>
                                    <li><img onclick="changeImage(this)" src="../../assets/images/2.jpg" width="50"></li>
                                    <li><img onclick="changeImage(this)" src="../../assets/images/3.jpg" width="50"></li>
                                    <li><img onclick="changeImage(this)" src="../../assets/images/4.jpg" width="50"></li>
                                </ul> -->
                            </div>
                        </div>
                    </div>
                    <div class="col-md-7">
                        <div class="p-3 right-side">
                            <div class="d-flex justify-content-between align-items-center">
                                <h4>{{product.name}}</h4> 
                                <button class="heart" (click)="addtowhishlist(product,$event)"><i class='fa-regular fa-heart'></i></button>
                            </div>
                            <div class="mt-2 pr-3 content">
                                <h6 class="d-inline">Brand: </h6>
                                <span><a href="#" class="link bran-link">{{product.brand}}</a></span>
                                <p>{{product.description}}</p>
                            </div>
                            <h3 *ngIf="product.Offeres!=null">EGP {{product.Offeres.price_offer}}</h3>
                            <h6 class=" text-muted d-inline" [ngClass]="{'oldprice': product.Offeres!=null}">EGP{{product.price}} </h6>
                            <span *ngIf="product.Offeres!=null" class="text-muted ms-2">{{product.Offeres.offeres.percent}}%</span>
                               <!-- <div class="ratings d-flex flex-row align-items-center mt-2">
                                <div class="d-flex flex-row">
                                     <i class='fa fa-star' ></i>
                                      <i class='fa fa-star' ></i>
                                    <i class='fa fa-star' ></i>
                                     <i class='fa fa-star' >
                                     </i> <i class='fa fa-star' ></i> </div>
                                <span>5 reviews</span>
                            </div> -->
                           
                            <div>
                                <ul class="ulsize">
                                    <li class="lisize" *ngFor="let psize of product.sizes ;let i = index">
                                        <button class="btnsize" (click)="addprosize($event,product.id,psize.id)" 
                                        >{{psize.size}}</button>
                                    </li>
                                
                            
                                </ul>
                            </div>	
                            <div class="buttons d-flex flex-row mt-5 gap-3">
                                <button class="btn btn-purple w-100" (click)="insertincart($event,product)" >Add to Cart</button> </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card px-3">
            <div class="py-0  mb-2 border-bottom">
                <h3 class="maintitle py-2">Verified Customer Feedback</h3>
            </div>
            <h6>PRODUCT REVIEWS ({{product.Reviews.reviews.length}})</h6>

            <!-- <section class="border-bottom">
                <div class="d-flex flex-row mt-3 mb-1">
                    <i class='fa fa-star' ></i>
                     <i class='fa fa-star' ></i>
                   <i class='fa fa-star' ></i>
                    <i class='fa fa-star' >
                    </i> <i class='fa fa-star' ></i> </div>
                <p >Very good product i liked it!</p>
                <p class="text-muted">08-08-2022 <span class="ms-2">Nada diaa</span></p>
    
            </section> -->

            <section 
            *ngFor="let review of product.Reviews.reviews ; let i = index">
                <div class="d-flex flex-row mt-3 mb-1">
                    <ul class="list-inline rating-list" *ngFor="let star of stars" style="display: inline-block" >
                        <li (click)="countStar(star)"
                        [ngClass]="{'selected': (star <= review.rating)}">
                            <i class="fa fa-star"></i>
                    </li>  </ul></div>
                <p >{{review.feedback}}</p>
                <p class="text-muted">{{review.created_at}} <span class="ms-2">{{review.user_name}}</span></p>
    
            </section>
           
        </div>
        <div class="container">
            <section>
                <div class="card my-4 p-3">
                <div class="row">
                  <div class="col-12">
                    <div class="card-block">
                       
                        <h4>You may also like</h4>
                      <!--products-->
                      <div class="row">
                        <div class="col-md-3 col-sm-6" *ngFor="let product of related ; let i = index" >
                            <div class="product-grid" *ngIf="i<4">
                                <div class="product-image">
                                    <a href="#" class="image">
                                        <img [src]="pathimage+product.image">
                                    </a>
                                    <span class="product-discount-label" *ngIf="product.Offeres!=null">{{product.Offeres.offeres.percent}}%</span>
                                    <ul class="product-links">
                                        <li><a (click)="addtowhishlist(product,$event)"><i class="fa-regular fa-heart"></i></a></li>
                                    </ul>
                                    <a (click)="insertincart($event,product)" class="add-to-cart">Add to Cart</a>
                                </div>
                                <div class="product-content">
                                    <h3 class="title"> <a [routerLink]="['/productdetails' , product.id]">{{product.name}}</a></h3>
                                    <span class="price me-1" *ngIf="product.Offeres!=null">EGP {{product.Offeres.price_offer}} </span>
                                    <span class="  d-inline" [ngClass]="{'oldprice': product.Offeres!=null,'price': product.Offeres==null}">EGP{{product.price}} </span>
                                              
                                    <div>
                                        <ul class="ulsize">
                                            <li class="lisize" *ngFor="let psize of product.sizes ;let i = index">
                                                <button class="btnsize" (click)="addprosize($event,product.id,psize.id)" 
                                                >{{psize.size}}</button>
                                            </li>
                                        
                                    
                                        </ul>
                                    </div>   
                                </div>
                            </div>
                        </div>
                    
                
                    </div>
                      <!--end of products-->
                    </div>
                  </div>
                </div>
                </div>
                </section>
        </div>

	</main>

    <aside class="col-md-3">
		
        <div class="card">
            <article class="filter-group">
                <header class="card-header">
                    <a href="#" data-toggle="collapse" data-target="#collapse_1" aria-expanded="true" class="">
                        <h6 class="title sub-title">SELLER INFORMATION</h6>
                    </a>
                </header>
                <div class="filter-content collapse show" id="collapse_1" style="">
                    <div class="card-body">
                       <h5 class="fs-7">{{product.user.user_name}}</h5>
                      
        
                    </div> <!-- card-body.// -->
                </div>
            </article> <!-- filter-group  .// -->
        
           
            
            
        </div> <!-- card.// -->
        <div class="card p-0">
            <article class="filter-group ">
                
                <div class="filter-content p-0" id="collapse_1" style="">
                    <div class="card-body">
                       <p>Have one to sell?</p>
                       <p>Click <a href="#" class="bran-link">Here</a> to list your products</p>
                      
        
                    </div> <!-- card-body.// -->
                </div>
            </article> <!-- filter-group  .// -->
        
           
            
            
        </div> <!-- card.// -->
        
            </aside>
	</div>
</div>
